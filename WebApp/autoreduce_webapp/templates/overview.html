{% extends "base.html" %}
{% load static %}

{% block body %}
<div class="container-fluid" id="instrument-btns-container">
    <div class="row form-group">
    {% if instrument_list %}
        {% for instrument in instrument_list %}
                <div class="col-md-4  text-center" id={{ instrument.name }}-instrument-btn>
                    <a href="/instrument/{{ instrument.name }}" class="btn btn-primary btn-lg btn-block">{{ instrument.name }}</a>
                </div>
        {% if forloop.counter|divisibleby:3 %}
        </div>
        <div class="row form-group">
        {% endif %}
        {% endfor %}
    {% else %}
            <div class="panel-body text-center">No instruments registered with autoreduction were found. Please contact a member of the development team if the problem persists.</div>
    {% endif %}
    </div>
    <div class="row">
        <div class="col-md-2 text-center pull-right">
            <button class="btn btn-info btn-block" id="tour-btn">Take a tour</button>
        </div>
    </div>
</div>
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{% static "css/vendor/bootstrap.min.css" %}">
    <link rel="stylesheet" href="{% static "css/vendor/bootstrap-tour.min.css" %}">
{% endblock %}
{% block scripts %}
    <script src="{% static "javascript/vendor/bootstrap-tour.min.js" %}"></script>
    <script src="{% static "javascript/vendor/bootstrap.min.js" %}"></script>
    <script src="{% static "javascript/vendor/jquery.min.js" %}"></script>
    <script src="{% static "javascript/tour.js" %}"></script>
    <script>
        var firstInstrumentBtn = $("[id*='-instrument-btn']")[0];
        tourSteps = [
            {
                element: "#instrument-btns-container",
                title: "Instruments",
                content: "Here is a list of ISIS intruments"
            },
            {
                element: "#"+firstInstrumentBtn.id,
                title: "An instrument",
                content: "You can click on specific instruments to view related reductions"
            },
            {
                element: "#MARI-instrument-btn",
                title: "MARI",
                content: "Information about MARI Button"
            }
        ]
        setupTour(tourSteps);
    </script>

{% endblock %}
